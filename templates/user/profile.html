{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{% static 'css/header.css' %}">
    <link rel="stylesheet" href="{% static 'css/user/profile.css' %}">
    <link rel="stylesheet" href="{% static 'css/post/post.css' %}">
    <link rel="shortcut icon" type="image/x-icon" href="{% static 'img/favicon.ico' %}">
    <title>{{ userLogin.firstName }} {{ userLogin.lastName }}</title>
</head>
<body>
    {% include 'header.html' %}
    <main>
        <section class="profile">
            <div class="avatar">
                <img src="{{ userData.urlAvatar }}" alt="avatar" class="avatar">
            </div>
            <h1 class="profile">{{ userData.firstName }} {{ userData.lastName }} ({{ userData.nicknames.0 }})</h1>
            <h2 class="profile">@{{ userData.username }}</h2>
            <p class="profile">{{ userData.email }}</p>
            <p class="profile">Friends:</p>
            <section class="my-friends">
            {% for friend in friendsData %}

            <a class="friend" href="{% url 'viewUser' username=friend.username %}">
                <div class="friend">
                    <div class="avatar-icon friend-icon">
                        <img src="{{ friend.urlAvatar }}" alt="avatar" class="avatar-icon">
                    </div>
                    <p>{{ friend.firstName }} {{ friend.lastName }}</p>
                </div>
            </a>
            {% endfor %}
            </section>
        </section>
        <section class="posts">
            {% for post in posts %}
                <div class="post">
                <div class="post-header">
                    <div class="avatar-icon">
                        <img src="{{ post.authorAvatar }}" alt="avatar" class="avatar-icon">
                    </div>
                    <div>
                        <a href="{% url 'viewUser' username=post.userAuthor %}" class="post">{{ post.author }}</a>
                        <p class="post">{{ post.date }}</p>
                    </div>
                </div>
                <div class="post-main">
                    <p class="content">{{ post.content }}</p>
                </div>
                <div class="post-media">
                    {% if post.typeMedia == 'img' %}
                        <img src="{{ post.urlMedia }}" alt="" class="media">
                    {% elif post.typeMedia == 'video' %}
                        <video controls class="media">
                            <source class="media" src="{{ post.urlMedia }}" type="video/mp4">
                            <source class="media" src="{{ post.urlMedia }}" type="video/avi">
                            Tu navegador no soporta la reproducci√≥n de videos.
                        </video>
                    {% endif %}
                </div>
                <div class="post-options">
                    <a class="btn-like {{ post.likeStatus }}" id-post="{{ post.id }}" likes="{{ post.likes }}" onclick="like(this);">Likes: {{ post.likes }}</a>
                    <a class="btn-post-option"href="#">Coments: {{ post.comments }}</a>
                    <a class="btn-post-option"href="#">Searchs: {{ post.searchs }}</a>
                </div>
                </div>
            {% endfor %}
        </section>
    </main>
    <script src="{% static 'js/main.js' %}"></script>
</body>
</html>